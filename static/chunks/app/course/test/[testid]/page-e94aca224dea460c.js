(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[994],{7795:function(e,t,s){Promise.resolve().then(s.bind(s,7504)),Promise.resolve().then(s.bind(s,5333)),Promise.resolve().then(s.bind(s,115))},7504:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),a=s(2265),r=s(6079),l=s(5438);s(3054);var i=s(8904),o=s(7138);function c(e){let{data:t,testID:s,userId:c}=e,[d,u]=(0,a.useState)(1),h=[];t.map(e=>{e.questions.map(e=>{e.questionAndAnswer.map(e=>{h.push(e.answer)})})});let x=[];h.map(e=>x.push(""));let[m,f]=(0,a.useState)(x),p=e=>{let t=[...m];t[e.target.attributes["data-number"].nodeValue]=e.target.value,f(t)},b=s.split("-"),g=b[b.length-1];return(0,n.jsxs)("div",{className:"bg-[#F8F9FA]",children:[(0,n.jsx)("h1",{className:"p-4 font-bold text-2xl",children:"IELTS Simulation Listening test 3"}),(0,n.jsxs)("div",{className:"m-4 flex flex-row gap-5",children:[(0,n.jsxs)("div",{className:"p-4 flex flex-col w-10/12 bg-white rounded-xl border border-gray-300 gap-5",children:[(0,n.jsx)("div",{className:"flex flex-row",children:Array.from({length:t.length},(e,t)=>(0,n.jsx)("button",{onClick:()=>u(t+1),className:"bg-[#F8F9FA] hover:bg-[#E7EAF3] focus:bg-[#e8f2ff] focus:text-[#35509a] text-md px-4 py-2 rounded-3xl font-semibold",children:"Recording ".concat(t+1)}))}),t.map((e,t)=>(0,n.jsxs)("div",{className:"w-full flex flex-row gap-6 ".concat(d===t+1?"block":"hidden"),children:[(0,n.jsx)("div",{className:"w-6/12 max-h-[700px] overflow-y-scroll",children:(0,n.jsxs)("audio",{controls:!0,children:[(0,n.jsx)("source",{src:"http://localhost:1337".concat(e.audio),type:"audio/mpeg"}),"Your browser does not support the audio element."]})}),(0,n.jsx)("div",{className:"w-6/12 max-h-[700px] overflow-y-scroll",children:e.questions.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(i.U,{children:e.questionair}),e.image&&(0,n.jsx)("img",{src:"http://127.0.0.1:1337".concat(e.image)}),e.questionAndAnswer.map((e,t)=>(0,n.jsx)(r.Z,{question:e,handleInput:p},t))]},t))})]},t))]}),(0,n.jsxs)("div",{className:"p-4 bg-white shadow-xl flex flex-col gap-3",children:[(0,n.jsx)("p",{className:"text-xl",children:"Thời gian l\xe0m b\xe0i:"}),(0,n.jsx)(l.Z,{}),(0,n.jsx)(o.default,{className:"text-center w-full py-1 text-[#35509a] hover:text-white hover:bg-[#35509a] font-semibold border border-[#35509a] rounded-lg",href:{pathname:"/course/test/".concat(s,"/answer"),query:{studentAnswers:JSON.stringify(m),answers:JSON.stringify(h),testId:g,userId:c}},children:"Nộp b\xe0i"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("p",{className:"font-bold",children:"Passage ".concat(d)}),(0,n.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:h.length},(e,t)=>(0,n.jsx)("button",{number:t+1,className:"w-8 h-7 font-semibold border border-black hover:text-white hover:bg-[#35509a] hover:border-[#35509a] ".concat(""!==m[t]?"bg-[#ffad3b] text-white border-[#ffad3b]":""," flex justify-center items-center rounded-sm"),children:t+1},t))})]})]})]})]})}},6079:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(7437);function a(e){let{question:t,handleInput:s}=e;return(0,n.jsxs)("div",{className:"mt-7 flex flex-row gap-3",children:[(0,n.jsx)("p",{className:"bg-[#e8f2ff] text-[#35509a] w-8 h-8 flex justify-center items-center font-semibold rounded-full",children:t.number}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"font-semibold",children:t.question}),(0,n.jsx)("input",{className:"px-4 py-2 border border-gray-300 rounded-lg",type:"text","data-number":t.number-1,onBlur:s})]})]})}function r(e){let{question:t,handleInput:s}=e;return console.log(t),(0,n.jsxs)("div",{className:"mt-7 flex flex-row gap-3",children:[(0,n.jsx)("p",{className:"bg-[#e8f2ff] text-[#35509a] w-8 h-8 flex justify-center items-center font-semibold rounded-full",children:t.number}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{className:"font-semibold",children:t.question}),Object.keys(t.choices).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"radio",id:e,name:"name".concat(t.number),value:e,"data-number":t.number-1,onClick:s}),(0,n.jsx)("label",{className:"ml-2",htmlFor:e,children:e+". "+t.choices[e]}),(0,n.jsx)("br",{})]},e))]})]})}function l(e){let{question:t,handleInput:s}=e;return(0,n.jsx)(n.Fragment,{children:"filling"===t.type?(0,n.jsx)(a,{question:t,handleInput:s}):(0,n.jsx)(r,{question:t,handleInput:s})})}},5333:function(e,t,s){"use strict";s.d(t,{default:function(){return c}});var n=s(7437),a=s(2265),r=s(6079),l=s(5438);s(3054);var i=s(8904),o=s(7138);function c(e){let{data:t,testID:s,userId:c}=e,[d,u]=(0,a.useState)(1),h=[];t.map(e=>{e.questions.map(e=>{e.questionAndAnswer.map(e=>{h.push(e.answer)})})});let x=[];h.map(e=>x.push(""));let[m,f]=(0,a.useState)(x),p=e=>{let t=[...m];t[e.target.attributes["data-number"].nodeValue]=e.target.value,f(t)},b=s.split("-"),g=b[b.length-1];return(0,n.jsxs)("div",{className:"bg-[#F8F9FA]",children:[(0,n.jsx)("h1",{className:"p-4 font-bold text-2xl",children:"IELTS Simulation Reading test 3"}),(0,n.jsxs)("div",{className:"m-4 flex flex-row gap-5",children:[(0,n.jsxs)("div",{className:"p-4 flex flex-col w-10/12 bg-white rounded-xl border border-gray-300 gap-5",children:[(0,n.jsx)("div",{className:"flex flex-row",children:Array.from({length:t.length},(e,t)=>(0,n.jsx)("button",{onClick:()=>u(t+1),className:"bg-[#F8F9FA] hover:bg-[#E7EAF3] focus:bg-[#e8f2ff] focus:text-[#35509a] text-md px-4 py-2 rounded-3xl font-semibold",children:"Passage ".concat(t+1)}))}),t.map((e,t)=>(0,n.jsxs)("div",{className:"w-full flex flex-row gap-6 ".concat(d===t+1?"block":"hidden"),children:[(0,n.jsx)("div",{className:"w-6/12 max-h-[700px] overflow-y-scroll",children:(0,n.jsx)(i.U,{children:e.paragraph})}),(0,n.jsx)("div",{className:"w-6/12 max-h-[700px] overflow-y-scroll",children:e.questions.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)(i.U,{children:e.questionair}),e.image&&(0,n.jsx)("img",{src:"http://127.0.0.1:1337".concat(e.image)}),e.questionAndAnswer.map((e,t)=>(0,n.jsx)(r.Z,{question:e,handleInput:p},t))]},t))})]},t))]}),(0,n.jsxs)("div",{className:"p-4 bg-white shadow-xl flex flex-col gap-3",children:[(0,n.jsx)("p",{className:"text-xl",children:"Thời gian l\xe0m b\xe0i:"}),(0,n.jsx)(l.Z,{}),(0,n.jsx)(o.default,{className:"text-center w-full py-1 text-[#35509a] hover:text-white hover:bg-[#35509a] font-semibold border border-[#35509a] rounded-lg",href:{pathname:"/course/test/".concat(s,"/answer"),query:{studentAnswers:JSON.stringify(m),answers:JSON.stringify(h),testId:g,userId:c}},children:"Nộp b\xe0i"}),(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("p",{className:"font-bold",children:"Passage ".concat(d)}),(0,n.jsx)("div",{className:"grid grid-cols-5 gap-2",children:Array.from({length:h.length},(e,t)=>(0,n.jsx)("button",{number:t+1,className:"w-8 h-7 font-semibold border border-black hover:text-white hover:bg-[#35509a] hover:border-[#35509a] ".concat(""!==m[t]?"bg-[#ffad3b] text-white border-[#ffad3b]":""," flex justify-center items-center rounded-sm"),children:t+1},t))})]})]})]})]})}},5438:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});var n=s(7437),a=s(2265);function r(){let[e,t]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let e=setInterval(()=>{t(e=>e+1)},1e3);return()=>clearInterval(e)},[]),(0,n.jsx)("p",{className:"font-bold text-xl",children:"".concat(String(Math.floor(e/60)).padStart(2,"0"),":").concat(String(e%60).padStart(2,"0"))})}},115:function(e,t,s){"use strict";s.d(t,{default:function(){return v}});var n=s(7437),a=s(4443),r=s(2265);s(2263);var l=s(8590),i=function(e){let{setWriting:t,setWordCount:s}=e,[a,i]=(0,r.useState)(0);return(0,n.jsxs)("div",{className:"writing-container",children:[(0,n.jsx)("textarea",{onChange:e=>{i((0,l.h)(e.target.value)),s((0,l.h)(e.target.value)),t(e.target.value)},rows:20,cols:64,name:"usrtxt",wrap:"hard",className:"writing-field",placeholder:"Viết essay tại đ\xe2y..."}),(0,n.jsx)("div",{className:"word-count",children:(0,n.jsxs)("label",{htmlFor:"",children:["Wordcount: ",a]})})]})};s(4436);var o=function(e){let{data:t}=e,s=t.task,a=t.img;return null===a.data||(a=a.data[0].attributes.formats.medium.url,"".concat("http://localhost:1337").concat(a)),(0,n.jsxs)("div",{className:"text-container",children:[(0,n.jsx)("textarea",{rows:15,cols:64,name:"usrtxt",wrap:"hard",className:"text-field",disabled:!0,value:s}),(0,n.jsx)("div",{className:"image",children:(0,n.jsx)("img",{src:"".concat("http://localhost:1337").concat(a),alt:""})})]})};s(1439);var c=function(e){let{minutes:t,seconds:s}=e,a=s;return s<10&&(a="0"+s),(0,n.jsxs)("div",{className:"timer-container",children:[(0,n.jsx)("p",{className:"label-time",children:"Thời gian c\xf2n lại: \xa0"}),(0,n.jsx)("div",{className:"time",children:(0,n.jsx)("p",{children:t+""})}),(0,n.jsx)("p",{className:"divider",children:":"}),(0,n.jsx)("div",{className:"time",children:(0,n.jsx)("p",{children:a})})]})},d=s(6548);s(4590);var u=(0,s(8064).$)("15ce73b79b7cfc78731517ea593f8dec6424786e"),h=s(7999),x=s(3719),m=s(2118),f=s(6463);let p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},b={position:"absolute",top:"1%",right:"2%",fontSize:20,borderRadius:"15%"},g={fontSize:20,borderRadius:"15",color:"#dbd3d3",backgroundColor:"#1976D2",marginTop:5,marginLeft:15};function j(e){let{setSubmit:t}=e,s=(0,f.useRouter)(),a=()=>e.setOpen(!1);return(0,n.jsx)("div",{children:(0,n.jsx)(m.Z,{open:e.open,onClose:a,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsxs)(h.Z,{sx:p,children:[e.canClose?(0,n.jsx)(d.Z,{sx:b,size:"large",onClick:a,children:"X"}):(0,n.jsx)(n.Fragment,{}),(0,n.jsx)(x.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Th\xf4ng b\xe1o"}),(0,n.jsx)(x.Z,{id:"modal-modal-description",sx:{mt:2},children:e.message}),(0,n.jsx)(d.Z,{sx:g,size:"medium",onClick:()=>{void 0!==e.setSubmit&&(t(!0),console.log(e.path)),s.push("".concat(e.path))},children:"X\xe1c nhận"})]})})})}var v=function(e){let{writing:t,test:s,writingID:h,userid:x}=e,[m,f]=(0,r.useState)(!1),[p,b]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!0),[w,N]=(0,r.useState)(!1),y=s.attributes.Duration,S=(0,l.y)(y),k=0===S?parseInt(y):parseInt(y)%S,[A,C]=(0,r.useState)(S),[q,F]=(0,r.useState)(k),[I,Z]=(0,r.useState)(!0),[T,E]=(0,r.useState)(!1),[O,R]=(0,r.useState)(""),[_,P]=(0,r.useState)(""),[$,z]=(0,r.useState)(0),[W,D]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e;if(I&&!T?e=setInterval(()=>{q>0?F(q-1):A>0?(C(A-1),F(59)):q<=0&&A<=0&&(Z(!1),E(!0),b(!0))},1e3):m&&f(!0),T){let e="".concat("http://127.0.0.1:1337/api","/answer-wrtings"),t="".concat("http://127.0.0.1:1337/api","/wrtings/").concat(h,"?populate=*");(0,a.j0)(U(O,_,$,W),e).then(s=>{u(s.data.id,t,"answer_wrtings").then(()=>{u(x,e+"/".concat(s.data.id,"?populate=*"),"users_permissions_user")})})}return()=>clearInterval(e)},[A,q,I,T,m]);let J=s.attributes.name,L={task:t.task1,img:t.img1,order:1},B={task:t.task2,img:t.img2,order:2},U=(e,t,s,n)=>({task1Answer:e,task2Answer:t,wordcount1:s,wordcount2:n});return(0,n.jsxs)("div",{className:"content",children:[(0,n.jsx)("h1",{children:J}),(0,n.jsx)(c,{minutes:A,seconds:q}),(0,n.jsxs)("div",{className:"button-component",style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:[(0,n.jsx)(d.Z,{onClick:()=>{f(!0)},variant:"contained",style:{marginTop:"2%",marginRight:"24%",marginBottom:"4%"},children:"Nộp b\xe0i"}),(0,n.jsx)(d.Z,{onClick:()=>{v(!0),N(!1)},sx:{marginTop:"3%",marginRight:"4%",height:25,width:100,opacity:g?1:.6,textDecoration:g?"underline":"none",color:"black",borderRadius:10,backgroundColor:"#e7eaf3"},children:"Task 1"}),(0,n.jsx)(d.Z,{onClick:()=>{v(!1),N(!0)},sx:{marginTop:"3%",marginRight:"4%",height:25,width:100,opacity:w?1:.6,textDecoration:w?"underline":"none",color:"black",borderRadius:10,backgroundColor:"#e7eaf3"},children:"Task 2"})]}),(0,n.jsxs)("div",{className:"main-content task1",style:{display:g?"flex":"none"},children:[(0,n.jsx)(o,{data:{...L}}),(0,n.jsx)(i,{setWriting:R,setWordCount:z})]}),(0,n.jsxs)("div",{className:"main-content task2",style:{display:w?"flex":"none"},children:[(0,n.jsx)(o,{data:{...B}}),(0,n.jsx)(i,{setWriting:P,setWordCount:D})]}),(0,n.jsx)(j,{open:m,setOpen:f,path:"/course?userid=".concat(x),canClose:!0,setSubmit:E,message:"Bạn c\xf3 chắc chắn muốn nộp b\xe0i kh\xf4ng ?"}),(0,n.jsx)(j,{open:p,setOpen:b,path:"/course?userid=".concat(x),canClose:!1,message:"Thời gian l\xe0m b\xe0i đ\xe3 hết",setSubmit:E})]})}},4443:function(e,t,s){"use strict";s.d(t,{$i:function(){return a},j0:function(){return r}}),s(4590);var n=s(8064),a=(0,n.$)("5817b539cd28749668f562783480b2cb437909cd");(0,n.$)("ab54eb6d9ed5cc7608e813b6eaac24c95d4a5821");var r=(0,n.$)("1480efeeb201f7ffbc0df565b08bda78d8b476ef")},8590:function(e,t,s){"use strict";s.d(t,{h:function(){return a},y:function(){return n}});let n=e=>Math.floor(parseInt(e)/60),a=e=>e.split(" ").filter(e=>""!==e&&(/^[a-zA-Z]+$/.test(e)||"0123456789".includes(e[0])||e.includes("'")||e.includes('"')||e.includes("-"))).length},3054:function(){},2263:function(){},4436:function(){},1439:function(){}},function(e){e.O(0,[554,995,138,100,971,23,744],function(){return e(e.s=7795)}),_N_E=e.O()}]);