(()=>{var e={};e.id=281,e.ids=[281],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},67174:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(73848),r(64409),r(35866);var s=r(23191),o=r(88716),n=r(37922),i=r.n(n),a=r(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["signin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,73848)),"/home/lehien/Workspace/WebProjects/deploy_web_ui/src/app/signin/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,64409)),"/home/lehien/Workspace/WebProjects/deploy_web_ui/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/lehien/Workspace/WebProjects/deploy_web_ui/src/app/signin/page.tsx"],p="/signin/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/signin/page",pathname:"/signin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},57772:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},43149:(e,t,r)=>{Promise.resolve().then(r.bind(r,24348))},65852:(e,t,r)=>{Promise.resolve().then(r.bind(r,20772))},4729:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var s=r(18752);function o(e){let{theme:t,name:r,props:o}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,s.Z)(t.components[r].defaultProps,o):o}},20772:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s=r(10326),o=r(17577),n=r(6420),i=r(2065),a=r(57329),l=r(48260),d=r(16027),c=r(57050),p=r(94583),u=r(42265),m=r(32569),h=r(10617),x=r(96741),g=r(66042),b=r(35047);let f=()=>{let[e,t]=(0,o.useState)(),[r,f]=(0,o.useState)(),[P,j]=(0,o.useState)({name:"",email:"",phone:"",password:""}),y=(0,b.useRouter)(),[w,v]=(0,o.useState)(!1),_=e=>{let{name:t,value:r}=e.target;console.log(t,r),j({...P,[t]:r})};(0,o.useEffect)(()=>{void 0!==e&&("Admin"===r?y.push(`/dashboard?userid=${e}`):y.push(`/course?userid=${e}`))},[e,r]);let k=async r=>{r.preventDefault();try{let r=await fetch("http://127.0.0.1:1337/api/auth/local",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:P.email,password:P.password})}),s=await r.json();if(console.log(s),r.ok){console.log(s.user.id),t(s.user.id);let r=await fetch(`http://127.0.0.1:1337/api/users/${s.user.id}?populate=*`),o=await r.json();console.log(o),sessionStorage.setItem("userData",JSON.stringify({token:s.jwt,user:o})),"Admin"===s.user.authen?f("Admin"):(console.log(e),f("User"))}else console.error("Login failed:",s),alert("Login failed. Please check your email and password.")}catch(e){console.error("Error during login:",e)}};return(0,s.jsxs)(n.Z,{component:"form",onSubmit:k,sx:{p:1,backgroundColor:"#002855",display:"flex",alignItems:"center",borderRadius:2,justifyContent:"space-around"},children:[s.jsx(i.Z,{required:!0,name:"email",placeholder:"email",value:P.email,onChange:_,variant:"outlined",autoComplete:"cuurent-email",InputProps:{startAdornment:s.jsx(a.Z,{position:"start",children:s.jsx(h.Z,{})}),style:{backgroundColor:"white",borderRadius:"5px"}},sx:{mr:1}}),s.jsx(i.Z,{required:!0,name:"password",placeholder:"Password",type:w?"text":"password",value:P.password,onChange:_,variant:"outlined",autoComplete:"current-password",InputProps:{startAdornment:s.jsx(a.Z,{position:"start",children:s.jsx(m.Z,{})}),endAdornment:s.jsx(a.Z,{position:"end",children:s.jsx(l.Z,{onClick:()=>{v(!w)},children:w?s.jsx(x.Z,{sx:{color:"black"}}):s.jsx(g.Z,{sx:{color:"black"}})})}),style:{backgroundColor:"white",borderRadius:"5px"}},sx:{mr:1}}),s.jsx(d.ZP,{item:!0,children:s.jsx(c.Z,{control:s.jsx(p.Z,{sx:{color:"white"}}),label:s.jsx("span",{style:{color:"white"},children:"Ghi nhớ"})})}),s.jsx(d.ZP,{item:!0,children:s.jsx(u.Z,{variant:"text",sx:{color:"white",textTransform:"none"},children:"Qu\xean mật khẩu"})}),s.jsx(u.Z,{type:"submit",onClick:k,variant:"contained",color:"primary",sx:{backgroundColor:"white",color:"#002855",fontWeight:"bold",textTransform:"none"},children:"Đăng nhập"})]})},P=()=>s.jsx(f,{})},24348:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(10326),o=r(77109);function n({children:e}){return s.jsx(o.SessionProvider,{children:e})}},64409:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>p});var s=r(19510),o=r(45317),n=r.n(o),i=r(68570);let a=(0,i.createProxy)(String.raw`/home/lehien/Workspace/WebProjects/deploy_web_ui/src/lib/next.auth.wrapper.tsx`),{__esModule:l,$$typeof:d}=a;a.default;let c=(0,i.createProxy)(String.raw`/home/lehien/Workspace/WebProjects/deploy_web_ui/src/lib/next.auth.wrapper.tsx#default`);r(28342);let p={title:"Study_IELTS_Web",description:"IELTS"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,children:s.jsx(c,{children:e})})})}},73848:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>a});var s=r(68570);let o=(0,s.createProxy)(String.raw`/home/lehien/Workspace/WebProjects/deploy_web_ui/src/app/signin/page.tsx`),{__esModule:n,$$typeof:i}=o;o.default;let a=(0,s.createProxy)(String.raw`/home/lehien/Workspace/WebProjects/deploy_web_ui/src/app/signin/page.tsx#default`)},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(66621);let o=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},28342:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,672,621,999,893,65,47,762],()=>r(67174));module.exports=s})();